<!--
  templateType: blog_listing
  isAvailableForNewContent: true
  label: Rally - blog listing
  screenshotPath: ../images/template-previews/blog-index.png
-->
{% set template_css = '../../css/templates/blog.css' %}
{% extends './layouts/base.html' %}

{% block body %}
<main class="body-container-wrapper">
  {% dnd_area 'dnd_area'
    label='Main section',
    class='body-container body-container--blog-index'
  %}

    {# Blog Header #}
    {% dnd_section
      max_width=1200,
      padding={
        'default': {
          'top': 96,
          'right': 0,
          'bottom': 32,
          'left': 0
        },
        'mobile': {
          'right': 20,
          'left': 20
        }
      }
    %}
      {% dnd_module path='@hubspot/rich_text' %}
        {% module_attribute 'html' %}
          <div style="text-align: center;">
            <h1>{{ group.public_title }}</h1>
          </div>
        {% end_module_attribute %}
      {% end_dnd_module %}
    {% end_dnd_section %}
    {# End Blog Header #}

    {# Blog Navigation #}
    {% dnd_section
      max_width=700,
      padding={
        'default': {
          'top': 0,
          'right': 0,
          'bottom': 64,
          'left': 0
        },
        'mobile': {
          'right': 20,
          'left': 20
        }
      },
      vertical_alignment='MIDDLE'
    %}
      {% dnd_column
        padding={
          'default': {
            'right': 40
          },
          'mobile': {
            'right': 0,
            'bottom': 30
          }
        },
        width=6
      %}
        {% dnd_row %}
          {% dnd_module path='../modules/blog-tag-filter' %}
          {% end_dnd_module %}
        {% end_dnd_row %}
      {% end_dnd_column %}
      {% dnd_column
        offset=6,
        padding={
          'default': {
            'left': 40
          },
          'mobile': {
            'left': 0
          }
        },
        width=6
      %}
        {% dnd_row %}
          {% dnd_module
            path='@hubspot/search_input',
            label='Blog search',
            content_types={
              'blog_posts': true,
              'knowledge_articles': false,
              'landing_pages': false,
              'website_pages': false
            },
            extra_classes='blog-search'
          %}
          {% end_dnd_module %}
        {% end_dnd_row %}
      {% end_dnd_column %}
    {% end_dnd_section %}
    {# End Blog Navigation #}

    {# Blog Listings and Pagination #}
    {% dnd_section
      max_width=950,
      padding={
        'default': {
          'top': 0,
          'right': 0,
          'bottom': 75,
          'left': 0
        },
        'mobile': {
          'right': 20,
          'left': 20
        }
      },
      vertical_alignment='TOP'
    %}
      {% dnd_column %}
        {% dnd_row %}
          {% dnd_module path='../modules/blog-listings' %}
          {% end_dnd_module %}
        {% end_dnd_row %}
        {% dnd_row %}
          {% dnd_module path='../modules/blog-pagination' %}
          {% end_dnd_module %}
        {% end_dnd_row %}
      {% end_dnd_column %}
    {% end_dnd_section %}
    {# End Blog Listings and Pagination #}

  {% end_dnd_area %}
</main>
{% endblock body %}